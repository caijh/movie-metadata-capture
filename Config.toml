[common]
main_mode = 1
source_folder = "E:\\Downloads\\fc2"
failed_output_folder = "failed"
success_output_folder = "E:\\Downloads"
link_mode = 0
scan_hardlink = false
failed_move = false
auto_exit = false
multi_threading = false
actor_gender = "female"
del_empty_folder = true
nfo_skip_days = 30
ignore_failed_list = false
download_only_missing_images = true
mapping_table_validity = 7
sleep = 3

# 剧照
[extrafanart]
switch = true
extrafanart_folder = "extrafanart"

[face]
locations_model = "hog"
aspect_ratio = 2.12

[proxy]
switch = true
proxy = "socks5://127.0.0.1:10808"
timeout = 20
retry = 3
cacert_file = ""

[debug_mode]
switch = false

[name_rule]
location_rule = '$actor/$number'
naming_rule = '$number-$title'
max_title_len = 50
image_naming_with_number = false

[uncensored]
uncensored_prefix = "PT-,S2M,BT,LAF,SMD,SMBD,SM3D2DBD,SKY-,SKYHD,CWP,CWDV,CWBD,CW3D2DBD,MKD,MKBD,MXBD,MK3D2DBD,MCB3DBD,MCBD,RHJ,MMDV"

[media]
# 影片后缀
media_type = ".mp4,.avi,.rmvb,.wmv,.mov,.mkv,.flv,.ts,.webm,.iso,.mpg,.m4v"
# 字幕后缀
sub_type = ".smi,.srt,.idx,.sub,.sup,.psb,.ssa,.ass,.usf,.xss,.ssf,.rt,.lrc,.sbv,.vtt,.ttml"

[translate]
switch = false
engine = "azure"
service_url = "https://api.cognitive.microsofttranslator.com/translate?api-version=3.0"
access_key = ""
region = "japaneast"
values = "outline"

[[number_extractor]]
name = "rebd"
regex = '(?i)\bREBD-?\d+'
[[number_extractor]]
name = "fc2"
regex = '(?i)\bFC2-?(PPV[-\s])?\d+'

[sources.fanza]
name = "fanza"
number_extractor = ["rebd", "oae"]
age_check = { url = "https://www.dmm.co.jp/age_check/=/declared=yes/", target_name = "rurl" }
detail_url = ["https://www.dmm.co.jp/digital/videoa/-/detail/=/cid=", "https://www.dmm.co.jp/mono/dvd/-/detail/=/cid=", "https://www.dmm.co.jp/digital/anime/-/detail/=/cid=","https://www.dmm.co.jp/mono/anime/-/detail/=/cid=", "https://www.dmm.co.jp/digital/videoc/-/detail/=/cid=", "https://www.dmm.co.jp/digital/nikkatsu/-/detail/=/cid=","https://www.dmm.co.jp/rental/-/detail/=/cid="]
expr_number = "//td[contains(text(),'品番：')]/following-sibling::td/text()"
expr_title = "//*[starts-with(@id, 'title')]/text()"
expr_actor_name = '//td[contains(text(),"出演者")]/following-sibling::td/span/a/text()'
expr_actor_photo = ''
expr_studio = "//td[contains(text(),'メーカー')]/following-sibling::td/text()"
expr_runtime = "//td[contains(text(),'収録時間')]/following-sibling::td/text()"
expr_release = "//td[contains(text(),'発売日：')]/following-sibling::td/text()"
expr_outline = "//div[@class='mg-b20 lh4']//p/text()"
expr_director = "//td[contains(text(),'監督：')]/following-sibling::td/text()"
expr_tags = "//td[contains(text(),'ジャンル：')]/following-sibling::td/a/text()"
expr_label = "//td[contains(text(),'レーベル：')]/following-sibling::td/a/text()"
expr_series = "//td[contains(text(),'シリーズ：')]/following-sibling::td/a/text()"
expr_cover = '//div[@class="tx10 pd-3 lh4"]/a/@href'
expr_small_cover = '//div[@class="tx10 pd-3 lh4"]/a/img/@src'
expr_extrafanart = '//a[@name="sample-image"]/img/@src'
expr_trailer = ""
expr_uncensored = ""
expr_uservotes = ""
expr_userrating = ""
replace_number = []
replace_extrafanart = [{action = "insert", args = ["-","jp"]}]
[[sources.fanza.number_search]]
name = "rebd"
rule = [{action = "lowercase", args= []},{action = "replace", args = ["-", ""]}, {action = "insert", args = ["0", "h_346"]}]


[sources.fc2]
name = "fc2"
number_extractor = ["fc2"]
detail_url = ["https://adult.contents.fc2.com/article/"]
expr_number = '/html/head/title/text()'
expr_title = '//*[@id="top"]/div[1]/section[1]/div/section/div[2]/h3/text()'
expr_actor_name = '//*[@id="top"]/div[1]/section[1]/div/section/div[2]/ul/li[3]/a/text()'
expr_actor_photo = '//*[@id="top"]/div[1]/section[1]/div/section/div[1]/span/img/@src'
expr_studio = '//*[@id="top"]/div[1]/section[1]/div/section/div[2]/ul/li[3]/a/text()'
expr_runtime = "//p[@class='items_article_info']/text()"
expr_release = '//*[@id="top"]/div[1]/section[1]/div/section/div[2]/div[2]/p/text()'
expr_outline = "//div[@class='mg-b20 lh4']//p/text()"
expr_director = '//*[@id="top"]/div[1]/section[1]/div/section/div[2]/ul/li[3]/a/text()'
expr_tags = "//a[@class='tag tagTag']/text()"
expr_label = "//td[contains(text(),'レーベル：')]/following-sibling::td/a/text()"
expr_series = "//td[contains(text(),'シリーズ：')]/following-sibling::td/a/text()"
expr_cover = "//div[@class='items_article_MainitemThumb']/span/img/@src"
expr_small_cover = ''
expr_extrafanart = '//ul[@class="items_article_SampleImagesArea"]/li/a/@href'
expr_trailer = ""
expr_uncensored = ""
expr_uservotes = ""
expr_userrating = ""
replace_number = [{action = "substring", args = ["FC2", ""]}]
replace_extrafanart = []
[[sources.fc2.number_search]]
name = "fc2"
rule = [{action = "lowercase", args= []}, {action = "replace", args=["fc2-ppv-", ""]}, {action = "replace", args=["fc2-", ""]}, {action = "replace", args=["fc2ppv ", ""]}, {action = "append", args = ["/"]}]
